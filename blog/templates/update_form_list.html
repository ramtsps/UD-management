{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <h2
    class="text-center mb-4"
    style="
      color: #007bff;
      font-size: 34px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 2px;
      background-color: #eaf1ff;
      padding: 20px 30px;
      border-left: 5px solid #007bff;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: inline-block;
      margin-bottom: 30px;
    "
  >
    <i class="fas fa-user-edit" style="margin-right: 12px"></i>
    {% block title %} Update User Information {% endblock %}
  </h2>

  <!-- Display Messages -->
  {% if messages %}
  <div class="my-3">
    {% for message in messages %}
    <div
      class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-sm"
      role="alert"
      style="border-left: 5px solid; border-radius: 8px"
    >
      <strong>{{ message|capfirst }}</strong>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  <!-- Form -->
  <form method="post" action="" class="contact-form">
    {% csrf_token %}

    <!-- Display Form Fields with Bootstrap Styling -->
    <div class="mb-3">
      <label for="username" class="form-label">Username</label>
      <input
        type="text"
        id="username"
        name="username"
        class="form-control"
        value="{{ form.username.value|default:'' }}"
        required
      />
      {% if form.username.errors %}
      <div class="text-danger">
        {% for error in form.username.errors %}
        <p>{{ error }}</p>
        {% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        class="form-control"
        value="{{ form.email.value|default:'' }}"
        required
      />
      {% if form.email.errors %}
      <div class="text-danger">
        {% for error in form.email.errors %}
        <p>{{ error }}</p>
        {% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <input
        type="password"
        id="password"
        name="password"
        class="form-control"
        value="{{ form.password.value|default:'' }}"
        required
      />
      {% if form.password.errors %}
      <div class="text-danger">
        {% for error in form.password.errors %}
        <p>{{ error }}</p>
        {% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="confirm_password" class="form-label">Confirm Password</label>
      <input
        type="password"
        id="confirm_password"
        name="confirm_password"
        class="form-control"
        value="{{ form.confirm_password.value|default:'' }}"
        required
      />
      {% if form.confirm_password.errors %}
      <div class="text-danger">
        {% for error in form.confirm_password.errors %}
        <p>{{ error }}</p>
        {% endfor %}
      </div>
      {% endif %}
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary w-100">Update</button>
  </form>

  <!-- Display General Form Errors -->
  {% if form.errors %}
  <div class="alert alert-danger mt-3">
    <h3>Please fix the following errors:</h3>
    {{ form.errors }}
  </div>
  {% endif %}
</div>
{% endblock %}
